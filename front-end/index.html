<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" data-next-head="">
    <meta name="viewport" content="width=device-width" data-next-head="">  
    <link rel="stylesheet" href="styles.css">
    <script src="fabric.min.js"></script>
    <script src="centering_guidelines.js"></script>
    <script src="aligning_guidelines.js"></script>
    <script type="module" src="index.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/two.js/0.8.0/two.min.js"></script>
</head>
<body>
        <div class="main_cont">
            <!-- Sidebar Section -->
            <div class="side_bar" data-title="Parts Library">
                <div class="sidebar_head">
                    <div class="port_select_wrapper">   
                        <select id="port_select">
                            <option value="none">select port</option>
                        </select>
                    </div>
                    <textarea id="json_string" placeholder="enter gcode" rows="3"></textarea>
                    <button id="send_gcode" onclick="sendGcode()" disabled>Send</button>
                    <pre id="debug_response_pre" data-title="cnc response"></pre>
                </div>
                <div class="sidebar_card_wrapper"></div>
                <div class="preset_stock_wrapper"></div>
            </div>

            <!-- Workspace Section -->
            <div class="work_space" data-title="Build space">
                <div class="command_btns">
                    <button id="start_btn">Start</button>
                    <button id="stop_btn">Stop</button>
                    <button id="pause_btn">Pause</button>
                    <button id="estop_btn" style="background-color:red">E-stop</button>
                </div>

                <div class="canvas_container">
                    <div class="dimansion_bar" id="dimansion_bar">
                        <p id="width_dim">Width:</p><p id="height_dim">Height:</p><p id="rotation_dim">Rotation:</p>
                        <div class="zoom_btns">
                            <button id="zoomIn">+</button>
                            <button id="zoomOut">-</button>
                        </div>
                    </div>
                    <div class="draw_tools_btns">
                        <button id="draw_rect">▭</button>
                        <button id="draw_circle">⬤</button>
                        <button id="draw_triangle">△</button>
                        <button id="draw_polygon">⬠</button>
                        <button id="draw_line">─</button>
                        <button id="draw_arrow">→</button>
                        <button id="draw_ellipse">⬥</button>
                    </div>

                    <div class="utils_btns">
                        <button id="build_btn">Build</button>
                        <button id="send_svg">Send SVG</button>
                        <button id="export_btn">Export</button>
                        <button id="send_json">Send JSON</button>
                    </div>
                    <div class="control_btns">
                        <div class="input-row">
                            <label for="step-input">Steps</label>
                            <input type="number" id="step-input" value="1" min="0.01" step="0.1">
                        </div>
                        <div class="button-row">
                            <button class="jog-button" data-gcode_val="Y1">↑</button>
                        </div>
                        <div class="button-row">
                            <button class="jog-button" data-gcode_val="X-1">←</button>
                            <button class="jog-button" data-gcode_val="A-1">&#10226;</button>
                            <button class="jog-button" data-gcode_val="X1">→</button>
                        </div>
                        <div class="button-row">
                            <button class="jog-button" data-gcode_val="Y-1">↓</button>
                        </div>
                        <div class="button-row">
                            <button class="home-button" data-gcode_val="G28">&#127968;</button>
                        </div>
                    </div>
                    <div class="canvas_wrapper" id="fabricCanvas"></div>
                    <!-- <div id="paperCanvas" resize></div> -->
                </div>
            </div>

            <!-- Footer Section -->
            <div class="foot_bar" data-title="Workbench">
                <div class="Workbench_parts_wrapper"></div>
            </div>
        </div>
    </div>
    <div class="modal_overlay" id="modal_overlay">
        <div class="modal_content">
                <div class="size_select_wrapper">
                    <label for="size_select">Choose size:</label>
                    <select id="size_select"></select>
                </div>
                <div class="length_input_wrapper">
                    <label for="length_input">Length</label>
                    <input type="number" id="length_input" placeholder="Length">
                </div>
            <div class="btn_wrapper">
                <button onclick="closeModal2()">Cancel</button>
            </div>
        </div>
      
     </div>
</body>
</html>